{% extends 'base.html' %}

{% block title %}Listado de Variedades{% endblock %}

{% block content %}
<div class="container">
    <h2>Listado de Variedades</h2>
    <div class="acciones" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
        {% if tiene_permiso('insumos.var_crear') %}
            <a href="{{ url_for('variedades.nueva_variedad') }}" class="btn">â• Nueva Variedad</a>
        {% endif %}
        
        <a href="{{ url_for('insumos.index') }}" class="btn btn-secondary">â†©ï¸ Volver a Insumos</a>        
        
    </div>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>CÃ³digo</th>
                <th>Nombre</th>
                <th>CategorÃ­a</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for var in variedades %}
            <tr>
                <td>{{ var.id_variedad }}</td>
                <td>{{ var.codigo_variedad }}</td>
                <td>{{ var.nombre_variedad }}</td>
                <td>{{ var.nombre_categoria }}</td>
                <td>
                    {% if tiene_permiso('insumos.var_editar') %}
                        <a href="{{ url_for('variedades.editar_variedad', id_variedad=var.id_variedad) }}">âœï¸ Editar</a>
                    {% endif %}

                    {% if tiene_permiso('insumos.var_eliminar') %}
                        <a href="{{ url_for('variedades.eliminar_variedad_route', id_variedad=var.id_variedad) }}" onclick="return confirm('Â¿Seguro que deseas eliminar esta variedad?')">ğŸ—‘ï¸ Eliminar</a>
                    {% endif %}
                    
                    
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

