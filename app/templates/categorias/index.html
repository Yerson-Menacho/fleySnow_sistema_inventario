{% extends 'base.html' %}

{% block title %}Listado de CategorÃ­as{% endblock %}

{% block content %}
<div class="container">
    <h2>Listado de CategorÃ­as</h2>
    <div class="acciones" style="display: flex; gap: 560px; margin-bottom: 15px;">
        {% if tiene_permiso('insumos.cat_crear') %}
            <a href="{{ url_for('categorias.nueva_categoria') }}" class="btn">â• Nueva CategorÃ­a</a>
        {% endif %}
        
        <a href="{{ url_for('insumos.index') }}" class="btn btn-secondary">â†©ï¸ Volver a Insumos</a>
    </div>
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>CÃ³digo</th>
                <th>Nombre</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for cat in categorias %}
            <tr>
                <td>{{ cat.id_categoria }}</td>
                <td>{{ cat.codigo_categoria }}</td>
                <td>{{ cat.nombre_categoria }}</td>
                <td>
                    {% if tiene_permiso('insumos.cat_editar') %}
                        <a href="{{ url_for('categorias.editar_categoria', id_categoria=cat.id_categoria) }}">âœï¸ Editar</a>
                    {% endif %}

                    {% if tiene_permiso('insumos.cat_eliminar') %}
                        <a href="{{ url_for('categorias.eliminar_categoria_route', id_categoria=cat.id_categoria) }}" onclick="return confirm('Â¿Seguro que deseas eliminar esta categorÃ­a?')">ğŸ—‘ï¸ Eliminar</a>
                    {% endif %}                    
                    
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
